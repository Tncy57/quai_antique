{% extends 'home/index.html.twig' %}

{% block title %}Réservation{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ asset('css/app.css') }}">
    <link rel="stylesheet" href="{{ asset('css/book.css') }}">
    
{% endblock %}
{% block body %}

{% include 'partials/navbar.html.twig' %} 
      
    <div class="form-group mt-5">
         
          <div class="mt-3 d-flex justify-content-center pt-5 py-5">

              {{ form_start(reservationForm) }}
                  <h1 style="font-family: 'Montserrat', sans-serif;">Réservez une table</h1>
                  {% if app.user %}
                          {{ form_row(reservationForm.firstname, {value: app.user.firstname, attr: {'style': 'display: none;'}, label_attr: {'style': 'display: none;'}}) }}
                          {{ form_row(reservationForm.lastname, {value: app.user.lastname, attr: {'style': 'display: none;'}, label_attr: {'style': 'display: none;'}}) }}
                          {{ form_row(reservationForm.email, {value: app.user.email, attr: {'style': 'display: none;'}, label_attr: {'style': 'display: none;'}}) }}
                          {{ form_row(reservationForm.date) }}
                          {{ form_row(reservationForm.hour) }}      
                          {{ form_row(reservationForm.numberOfGuests, {value: app.user.numberOfGuests, attr: {'style': 'display: none;'}, label_attr: {'style': 'display: none;'}}) }}
                          {{ form_row(reservationForm.allergy, {value: app.user.allergy, attr: {'style': 'display: none;'}, label_attr: {'style': 'display: none;'}}) }}
                  {% else %}
                          {{ form_row(reservationForm.firstname) }}
                          {{ form_row(reservationForm.lastname) }}
                          {{ form_row(reservationForm.email) }}
                          {{ form_row(reservationForm.date) }}
                          {{ form_row(reservationForm.hour) }}
                          {{ form_row(reservationForm.numberOfGuests) }}
                          {{ form_row(reservationForm.allergy) }}
                  {% endif %}

                  <div class="d-flex justify-content-center align-items-center">
                      <button type="submit" class="book border-0 mt-3">Réserver</button>
                      {% for flashError in app.flashes('error') %}
                          <div class="alert alert-danger ml-3">{{ flashError }}</div>
                      {% endfor %}
                  </div>
              {{ form_end(reservationForm) }}
          </div>
    </div> 

    {% include 'partials/footer.html.twig' %} 

    <script src="{{ asset('js/displayHour.js') }}"></script>
    <script src="{{ asset('js/bootstrap.bundle.min.js') }}"></script>
  
{% endblock %}
